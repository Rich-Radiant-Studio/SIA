# 开发规范指南

## 核心原则

### 1. 保守工程原则 (Conservative Engineering)
- **避免创新性改动** - 不做不必要的重构和架构变更
- **最小化差异** - 只修改必须修改的代码
- **优先稳定性** - 使用成熟、经过验证的技术方案

### 2. 代码修改规则

#### ✅ 应该做的：
- 只修改必要的文件
- 保持现有代码结构
- 使用项目已有的模式和约定
- 最小化代码变更范围
- 优先修复而非重写

#### ❌ 不应该做的：
- 不必要的重构
- 改变现有的架构模式
- 引入新的依赖（除非必要）
- 大规模的代码重组
- 改变已有的命名约定

### 3. 文件修改原则

#### 修改现有文件时：
```
✅ 好的做法：
- 在现有代码基础上添加功能
- 保持原有代码风格
- 最小化改动行数

❌ 不好的做法：
- 完全重写文件
- 改变文件结构
- 修改不相关的代码
```

#### 添加新文件时：
```
✅ 好的做法：
- 遵循现有的文件组织结构
- 使用项目已有的模式
- 保持命名一致性

❌ 不好的做法：
- 创建新的文件夹结构
- 引入新的组织模式
- 使用不同的命名风格
```

### 4. 技术选型原则

#### 优先级顺序：
1. **使用项目已有的技术栈**
2. **使用团队熟悉的技术**
3. **使用成熟稳定的技术**
4. **最后才考虑新技术**

#### 引入新依赖的标准：
- [ ] 是否真的必要？
- [ ] 现有技术是否能解决？
- [ ] 是否成熟稳定？
- [ ] 团队是否熟悉？
- [ ] 维护成本如何？

### 5. 代码审查标准

#### 审查重点：
1. **变更范围** - 是否最小化？
2. **必要性** - 每个改动是否必要？
3. **风险** - 是否引入新风险？
4. **兼容性** - 是否保持向后兼容？
5. **测试** - 是否充分测试？

### 6. Git 提交规范

#### 提交信息格式：
```
<type>: <简短描述>

<详细说明>
- 改动原因
- 改动内容
- 影响范围
```

#### Type 类型：
- `fix`: 修复bug
- `feat`: 添加功能（最小化）
- `refactor`: 重构（谨慎使用）
- `docs`: 文档更新
- `style`: 代码格式（不影响功能）
- `test`: 测试相关
- `chore`: 构建/工具相关

### 7. 实际案例

#### ✅ 好的例子：
```typescript
// 需求：添加语言切换功能

// 方案1（保守）：在现有组件中添加语言切换器
<template>
  <div class="header">
    <!-- 现有代码 -->
    <LanguageSwitcher /> <!-- 只添加这一行 -->
  </div>
</template>

// 方案2（激进）：重构整个header组件 ❌
```

#### ❌ 不好的例子：
```typescript
// 需求：修复一个按钮的样式

// 方案1（激进）：重写整个样式系统 ❌
// 方案2（保守）：只修改这个按钮的样式 ✅
```

### 8. 问题处理流程

```
遇到问题
    ↓
能否用现有方案解决？
    ↓ 是
使用现有方案
    ↓ 否
是否必须引入新方案？
    ↓ 是
评估风险和成本
    ↓
选择最保守的可行方案
```

### 9. 代码质量标准

#### 优先级：
1. **可维护性** > 创新性
2. **稳定性** > 性能优化
3. **简单性** > 复杂性
4. **一致性** > 个人偏好

### 10. 团队协作

#### 沟通原则：
- 大改动前必须讨论
- 优先考虑团队意见
- 保持代码风格一致
- 文档必须及时更新

## 总结

**记住：作为保守的高级工程师，我们的目标是：**

> "让代码库保持稳定、可预测、易维护。  
> 不追求完美，追求可靠。  
> 不追求创新，追求稳定。  
> 最小化改动，最大化价值。"

---

**最后的提醒：**
- 每次改动前问自己：这个改动真的必要吗？
- 每次添加代码前问自己：能否用现有代码实现？
- 每次引入依赖前问自己：是否有更简单的方案？

**如果答案是"不确定"，那就不要做。**
